# 1. 基本概念
## 1.1 继承
复用代码
子类可以重写父类非`private`方法

## 1.2 多态
向上转型，动态绑定

# 2. 继承的细节
## 2.1 重名与静态绑定
**静态绑定**：在编译时确定。声明的变量的类型：`Child c = New Child(); Base b = c;`则`b`绑定`Base`类，由`b`调用**静态方法/变量**时，访问`Base`类的；由`c`调用**静态方法/变量**时，访问`Child`类的

## 2.2 重载与重写
**重载**：方法名相同但参数个数、类型或顺序不同
**重写**：子类重写父类方法
`final`：不允许重写

# 3. 继承实现的基本原理
## 3.1 类加载过程
1. **动态加载**：只有使用到时才加载，加载类先加载其父类，再加载子类
2. 类加载过程：
	1. 分配内存保存类信息
	2. 类变量赋默认值
	3. 加载父类
	4. 设置父子关系
	5. 执行类初始化代码
3. **方法区**：存放类的信息
	1. ![[Pasted image 20250307172846.png]]
	2. `class_init()`：类初始化代码
	3. `instance_init()`：实例对象初始化代码

## 3.2 对象创建过程
1. `new Child()`创建对象过程：
	1. 分配内存
	2. 实例变量赋默认值
	3. 执行实例初始化代码
2. `Child c = new Child(); Base b = c;`代码执行后，内存如下：
![[Pasted image 20250307173208.png]]
1. **动态绑定**：通过对象调用**非静态方法**时，需要通过对象去查找其方法。如果对象的类没有，则要去父类中找（层层递推，效率低）
	1. **注意**：`Java`对变量的访问都是静态绑定的（编译期确定），而对方法的访问分静态和动态之分
2. **虚方法表**：在类加载时为每个类创建一个表，保存通过该类创建的对象所有动态绑定的方法对应的地址

# 4. 继承是双刃剑
## 4.1 破坏封装
子类使用时，需要知道父类对应的方法的作用，才能使用
## 4.2 应对
1. 父类`final`拒绝重写/继承
2. 优先组合而非继承